<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BuffStreams - Category - BaseBall Streams</title>
  <style>body{margin:0;background-color:#000;color:#fff;font-family:'Segoe UI',sans-serif}.site-header{background:#111;padding:20px 20px;color:#fff;position:sticky;top:0;border-bottom:1px solid #222;z-index:1000}.header-container{max-width:1200px;margin:auto;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.site-name{font-size:26px;font-weight:bold;color:#22c55e}.nav-links{display:flex;gap:15px;flex-wrap:wrap;margin-top:0}.nav-links a{color:#fff;text-decoration:none;font-size:16px;padding:6px 12px;border-radius:4px;transition:background .3s ease,color .3s ease;font-weight:500}.nav-links a:hover{background:#333;color:#fff;border:1px solid #444}.main-wrapper{max-width:1600px;margin:0 auto;padding:40px 24px;display:flex;gap:24px;align-items:flex-start;background:#111;border-radius:8px;margin-top:20px;margin-bottom:20px;border:1px solid #222}#matches-wrapper{flex:1 1 auto}.row{display:flex;gap:20px;margin-bottom:20px;flex-wrap:nowrap}.match-card{background:#222;color:#fff;border-radius:10px;padding:15px;width:100%;display:flex;flex-direction:column;cursor:pointer;border:1px solid #333}.match-card .team{display:flex;align-items:center;margin-bottom:10px}.match-card img{width:40px;height:40px;object-fit:contain;margin-right:10px}.match-card .countdown{padding:4px 10px;border-radius:20px;font-size:14px;font-weight:bold;display:inline-block;margin-bottom:10px;background:#444;border:1px solid #555}.match-card .league{font-size:13px;background:#444;color:#FFF;padding:4px 8px;border-radius:20px;margin-top:10px;display:inline-block;border:1px solid #555;font-weight:bold;width:8%;text-align:center}.sidebar-box{flex-basis:280px;padding:20px;color:#FFF;border-radius:8px;height:fit-content;font-size:14px}.sidebar-box h2{margin-top:0;color:#007bff;font-size:20px}@media(max-width:768px){.header-container{flex-direction:column;align-items:flex-start;gap:10px}.nav-links{width:100%;justify-content:flex-start;gap:10px;margin-top:10px}.nav-links a{font-size:14px;padding:6px 10px}.main-wrapper{flex-direction:column;padding:20px 16px;gap:16px;max-width:100%}#matches-wrapper{width:89%;flex:none;min-width:auto}.sidebar-box{width:100%;flex-basis:auto;padding:15px 10px;font-size:13px;margin-top:20px}.row{flex-direction:column;gap:16px;margin-bottom:16px}.match-card{width:100%}.match-card .league{width:auto;text-align:center;padding:4px 8px;width:16%}.site-name{font-size:22px}}@media(max-width:480px){.nav-links a{font-size:13px;padding:5px 8px}.match-card img{width:30px;height:30px}.match-card .countdown{font-size:12px;padding:3px 8px}.sidebar-box h2{font-size:18px}}</style>
</head>
<body>

<header class="site-header">
  <div class="header-container">
<a href="https://w2.buffstreams24.sbs/" style="text-decoration: none; color: inherit;">
  <div class="site-name">━★ w2.BuffStreams24.sbs ★━</div>
</a>    <nav class="nav-links">
      <a href="/category/Soccer-streams">Soccer Streams</a>
      <a href="/category/a.m-football-streams">A.M Football Streams</a>
      <a href="/category/ufc-streams">UFC Streams</a>
      <a href="/category/nba-streams">NBA Streams</a>
      <a href="/category/baseball-streams">Baseball</a>
      <a href="/category/boxing-streams">Boxing</a>
    </nav>
  </div>
</header>

  <div class="main-wrapper">
    <!-- Matches will go here -->
    <div id="matches-wrapper">

<div style=" margin: 20 0; margin-top: -10PX; margin-bottom: 20px;">
 <script type="text/javascript">
	atOptions = {
		'key' : '31037bfc95eea319827433190321bc99',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/31037bfc95eea319827433190321bc99/invoke.js"></script>
</div>
</div>
    <div class="sidebar-box">
      <div style="margin-bottom: 20px;">
 <script type="text/javascript">
	atOptions = {
		'key' : 'c056290ae6472fcc026e9aa3e4433ff2',
		'format' : 'iframe',
		'height' : 300,
		'width' : 160,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/c056290ae6472fcc026e9aa3e4433ff2/invoke.js"></script>
</div>

<!-- Second Ad -->
<div>
 <script type="text/javascript">
	atOptions = {
		'key' : '4ef2fc17a7faded8a267471f28b41d6f',
		'format' : 'iframe',
		'height' : 600,
		'width' : 160,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/4ef2fc17a7faded8a267471f28b41d6f/invoke.js"></script>
</div>


    </div>
  </div>

<script>
  const apiUrl = "https://opensheet.elk.sh/1rAbb9FatONKR_xwYXQ-1H2FJ90JLe_gwlmWtBYvCQgs/Sheet1";
  const wrapper = document.getElementById("matches-wrapper");

  async function fetchMatches() {
    try {
      const res = await fetch(apiUrl);
      const data = await res.json();

      // Filter only matches where both teams exist and it's Soccer
      const validMatches = data.filter(m =>
        m["TEAM 1"]?.trim() &&
        m["TEAM 2"]?.trim() &&
        m["LEAGUE"]?.toLowerCase() === "mlb"
      );

      for (let i = 0; i < validMatches.length; i += 2) {
        const row = document.createElement("div");
        row.className = "row";

        const match1 = validMatches[i];
        const card1 = createMatchCard(match1);
        row.appendChild(card1);

        if (validMatches[i + 1]) {
          const match2 = validMatches[i + 1];
          const card2 = createMatchCard(match2);
          row.appendChild(card2);
        }

        wrapper.appendChild(row);
      }
    } catch (err) {
      wrapper.innerHTML = "<p style='color:red;'>Error loading matches</p>";
      console.error(err);
    }
  }

  function createMatchCard(match) {
    let timeKey = Object.keys(match).find(k => k.trim().toLowerCase() === "time");
    const timeRaw = timeKey ? match[timeKey] : null;
    const time = timeRaw?.replace(/\u00A0/g, ' ').trim() || "Time not found";

    const card = document.createElement("div");
    card.className = "match-card";

    // ✅ Fix: Use absolute path with slash
    card.onclick = () => {
      if (match["IFRAME"]) {
        const encodedUrl = encodeURIComponent(match["IFRAME"]);
        window.open(`/watch.html?url=${encodedUrl}`, "_blank");
      }
    };

    card.innerHTML = `
      <div class="countdown">${time}</div>
      <div class="team">
        <img src="${match["LOGO 1"]}" alt="">
        <strong>${match["TEAM 1"]}</strong>
      </div>
      <div class="team">
        <img src="${match["LOGO 2"]}" alt="">
        <strong>${match["TEAM 2"]}</strong>
      </div>
      <div class="league">${match["LEAGUE"] || "Unknown League"}</div>
    `;

    return card;
  }

  fetchMatches();
</script>



</body>
</html>
